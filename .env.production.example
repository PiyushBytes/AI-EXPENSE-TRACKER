# Production Environment Variables
# Copy to .env.production and fill in actual values

# ====================
# APPLICATION
# ====================
NODE_ENV=production
PORT=3000
API_VERSION=v1

# ====================
# DATABASE
# ====================
# Use managed database service (AWS RDS, DigitalOcean, etc.)
DATABASE_URL=postgresql://username:password@production-db-host:5432/expense_ai
DATABASE_SSL=true
DATABASE_POOL_SIZE=20
DATABASE_POOL_TIMEOUT=30000

# ====================
# SECURITY & AUTH
# ====================
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_SECRET_KEY
JWT_REFRESH_SECRET=CHANGE_THIS_TO_DIFFERENT_RANDOM_SECRET_KEY
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password hashing
BCRYPT_ROUNDS=12

# ====================
# CORS
# ====================
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# ====================
# RATE LIMITING
# ====================
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_TTL=900

# ====================
# REDIS (for caching & rate limiting)
# ====================
REDIS_HOST=your-redis-host.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_TLS=true

# ====================
# EXTERNAL SERVICES
# ====================
# OpenAI for AI features
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o-mini

# ====================
# MONITORING & LOGGING
# ====================
# Sentry for error tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=1.0

# Log level (error, warn, info, debug)
LOG_LEVEL=info
LOG_FORMAT=json

# ====================
# EMAIL (Optional)
# ====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
EMAIL_FROM=noreply@yourdomain.com

# ====================
# FILE STORAGE (Optional)
# ====================
# AWS S3 for file uploads
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=expense-ai-uploads

# ====================
# ANALYTICS (Optional)
# ====================
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# ====================
# FEATURE FLAGS
# ====================
ENABLE_AI_FEATURES=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_FILE_UPLOADS=false

# ====================
# SECURITY
# ====================
# Maximum request size (in bytes)
MAX_REQUEST_SIZE=10485760

# Session timeout (in seconds)
SESSION_TIMEOUT=3600

# Enable HTTPS redirect
FORCE_HTTPS=true

# ====================
# PERFORMANCE
# ====================
# Cache TTL (in seconds)
CACHE_TTL=300

# Enable compression
ENABLE_COMPRESSION=true

# ====================
# BACKUP
# ====================
# Database backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
